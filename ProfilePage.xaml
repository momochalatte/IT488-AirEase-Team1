<?xml version="1.0" encoding="utf-8" ?>
<ContentPage
    x:Class="IT488_Reg_Form.ProfilePage"
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:controls="clr-namespace:IT488_Reg_Form.Controls"
    Title="Profile"
    BackgroundColor="White">

    <!-- Toolbar -->
    <ContentPage.ToolbarItems>
        <ToolbarItem Text="Edit" Priority="0" Order="Primary" Clicked="Edit_Clicked" />
        <ToolbarItem Text="Rewards" Clicked="OpenRewards_Clicked" />
    </ContentPage.ToolbarItems>

    
    <Grid RowDefinitions="*,Auto">

        <!-- Content -->
        <ScrollView Grid.Row="0">
            <Grid RowDefinitions="Auto,Auto,*">

                <Label Grid.Row="0"
                       Text="Profile"
                       FontSize="22"
                       FontAttributes="Bold"
                       Margin="16,10" />

                <HorizontalStackLayout Grid.Row="1" Spacing="14" Margin="16,0,16,10">
                    <Frame WidthRequest="64" HeightRequest="64" CornerRadius="32"
                           HasShadow="False" BackgroundColor="#EFEFEF" Padding="0">
                        <Image Source="aireaselogo.png" Aspect="AspectFit" Margin="10"/>
                    </Frame>
                    <Label Text="AirEase" FontSize="20" FontAttributes="Bold"
                           VerticalTextAlignment="Center"/>
                </HorizontalStackLayout>

                <VerticalStackLayout Grid.Row="2" Margin="16,0" Spacing="10">
                    <Grid ColumnDefinitions="80,*">
                        <Frame WidthRequest="80" HeightRequest="80" CornerRadius="8"
                               HasShadow="False" BackgroundColor="#EFEFEF" Padding="0">
                            <Image x:Name="AvatarImage" Source="ic_avatar.png"
                                   Aspect="AspectFit" Margin="6"/>
                        </Frame>
                        <VerticalStackLayout Grid.Column="1" Spacing="4" VerticalOptions="Center">
                            <Label x:Name="NameLabel" Text="Name" FontAttributes="Bold" FontSize="16"/>
                            <Label x:Name="EmailLabel" Text="email@example.com" TextColor="#666"/>
                        </VerticalStackLayout>
                    </Grid>

                    <Button Text="Sign Out"
                            Clicked="SignOut_Clicked"
                            BackgroundColor="#2C79B9"
                            TextColor="White"
                            CornerRadius="6"
                            HeightRequest="46"/>
                </VerticalStackLayout>

            </Grid>
        </ScrollView>

        <!-- Bottom nav bar (custom ContentView) -->
        <controls:BottomNavBar Grid.Row="1"/>
    </Grid>
</ContentPage>
